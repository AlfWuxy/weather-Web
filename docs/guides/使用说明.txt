===============================================
天气健康风险预测系统 - 使用说明
===============================================

【快速开始】

1. 双击运行 scripts/start.bat 启动脚本
   - 会自动检查Python环境
   - 自动安装依赖包
   - 自动导入数据
   - 启动Web服务

2. 打开浏览器访问：http://localhost:5000

3. 使用默认管理员账号登录：
   用户名：admin
   密码：admin123

【手动安装步骤】

如果 scripts/start.bat 无法运行，请按以下步骤手动操作：

步骤1：安装依赖包
命令：python -m pip install -r requirements.txt

步骤2：导入数据
命令：python import_data.py

步骤3：启动应用
命令：python app.py

步骤4：访问系统
浏览器打开：http://localhost:5000

【功能说明】

一、普通用户功能
1. 用户注册/登录
2. 查看个人健康仪表板
   - 当前天气信息
   - 健康风险评估
   - 天气预警提醒
3. 进行健康风险评估
4. 查看社区风险地图
5. 获取个性化健康建议

二、管理员功能
1. 系统概览仪表板
   - 用户统计
   - 病历统计
   - 社区统计
   - 预警统计
2. 用户管理
   - 查看所有用户
   - 编辑用户信息
   - 删除用户
3. 病历数据管理
   - 查看病历记录
   - 搜索和筛选
   - 查看详情
4. 社区管理
   - 管理社区信息
   - 更新风险指数
5. 统计分析
   - 疾病分类统计
   - 年龄分布分析
   - 就诊趋势分析
   - 天气疾病相关性
   - 社区风险对比

【数据说明】

系统使用SQLite数据库，数据库文件：/opt/case-weather/storage/health_weather.db（可通过 DATABASE_URI 配置）

导入的数据包括：
- 2257条病历记录（来自数据.xlsx）
- 5个示例社区
- 最近7天的天气数据

【系统架构】

模块一：天气预警模块
- 天气数据采集
- 极端天气识别（高温、低温、温差大、污染等）
- 天气疾病相关性分析
- 风险预警生成

模块二：健康风险评估模块
- 社区健康档案管理
- 脆弱性指数计算（老龄化、慢性病率等）
- 空间风险地图可视化

模块三：慢性病风险预测模块
- 高血压风险预测
- 糖尿病风险预测
- 冠心病风险预测
- 慢阻肺风险预测
- 个性化健康建议

【常见问题】

Q1: 启动失败怎么办？
A1: 检查Python版本是否为3.10+，确保已安装所有依赖包

Q2: 端口被占用怎么办？
A2: 修改app.py最后一行的端口号，例如改为5001

Q3: 如何重置数据库？
A3: 删除 /opt/case-weather/storage/health_weather.db 文件，重新运行import_data.py

Q4: 如何添加新用户？
A4: 点击右上角"注册"按钮，或管理员在后台添加

Q5: 天气数据从哪来？
A5: 当前使用模拟数据，可在services/weather_service.py中接入真实API

Q6: 能否部署到服务器？
A6: 可以！SQLite支持中小规模应用，大规模建议换用MySQL/PostgreSQL

Q7: 如何备份数据？
A7: 直接备份 /opt/case-weather/storage/health_weather.db 文件即可（服务器可使用 scripts/backup.sh，默认保留30天）

【技术支持】

如遇到问题，请查看：
1. README.md - 详细的项目文档
2. 检查终端/命令行的错误信息
3. 确保网络连接正常（如需访问天气API）

【注意事项】

1. 首次使用请修改管理员密码
2. 系统提供的健康建议仅供参考，不能替代医疗诊断
3. 定期备份数据库文件
4. 生产环境建议使用HTTPS和更强的密码策略

【版本信息】

版本：v1.0.0
发布日期：2025-10-21
技术栈：Flask + SQLite + Bootstrap + Chart.js

===============================================
祝您使用愉快！
===============================================








